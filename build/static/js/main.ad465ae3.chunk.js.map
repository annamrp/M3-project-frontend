{"version":3,"sources":["lib/auth-service.js","lib/authContext.js","components/PrivateRoute.js","components/AnonRoute.js","components/PageNotFound.js","components/Signup.js","components/Login.js","pages/HomePage.js","lib/userServer.js","components/MyGames.js","components/Button.js","components/Form.js","components/EditImage.js","components/Navbar.js","components/HowToplay.js","pages/Profile.js","lib/gameServer.js","components/ParticipantsList.js","components/Mission.js","pages/game/GameRoom.js","components/CreateParticipantList.js","pages/game/Create.js","pages/game/Join.js","components/EmailForm.js","components/DeleteEmail.js","pages/game/CreateForm.js","pages/game/GameOver.js","App.js","index.js"],"names":["auth","Auth","Object","classCallCheck","this","axios","create","baseURL","process","withCredentials","user","username","password","email","post","then","_ref","data","_ref2","response","get","React","createContext","Provider","Consumer","withAuth","Comp","props","react_default","a","createElement","value","assign","AuthContext","state","isLogged","isLoading","handleSetUser","_this","setState","handleLogOut","authService","logout","catch","error","console","log","_this2","me","setUser","children","Component","_this$props","path","component","rest","objectWithoutProperties","Route","render","Redirect","to","Signup","alert","handleFormSubmit","event","preventDefault","_this$state","signup","history","push","handleChange","_event$target","target","name","defineProperty","handleLogin","_this$state2","className","onSubmit","type","onChange","onClick","withRouter","Login","login","handleSignup","HomePage","showSignup","src","alt","components_Signup","components_Login","profileServer","ProfileServer","userId","userInfo","image","patch","concat","formData","headers","Content-Type","_ref3","startedStatus","gameFinished","game","Link","_id","roomName","admin","renderGameRoomDetail","handleButton","Form","changeQuote","changeImage","quote","handleEdit","handleSubmit","profileInfo","editProfile","autofocus","placeholder","EditImage","fileUpload","file","files","FormData","append","editPicture","_this$props$user","HowToplay","reactjs_popup_es","trigger","position","close","games","showEditForm","id","showEditImage","prueba","joinGameLink","createNewGameLink","toggleEditForm","update","toggleEditImage","submitImage","userServer","getUser","map","components_MyGames","key","filter","components_Navbar","components_HowToplay","components_EditImage","imageinfo","components_Form","components_Button","renderGames","renderAdminGames","gameServer","GameServer","mission","message","gameId","_ref4","userName","_ref5","_ref6","killedByUser","crossedClass","componentDidMount","scrachParticipant","callback","participants","participant","_this$props$state","killLog","player","find","killEvent","killer","killedUser","Mission","userMission","numberOfSurvivors","handleKill","killUser","missions","userTarget","GameRoom","endingDate","userStatus","populateMissions","i","length","populateKillLog","handleReSort","reSortGame","match","params","getGameInfo","userDead","err","_this3","isUserAdmin","components_Mission","components_ParticipantsList","Create","startGame","components_CreateParticipantList","handleStartClick","joinGame","EmailForm","handleChangeInput","DeleteEmail","emails","index","onDelete","CreateForm","emailString","document","getElementById","Array","join","createGame","handleSubmitEmail","handleDeleteEmail","splice","components_EmailForm","components_DeleteEmail","htmlFor","rows","GameOver","winner","date","App","showCreateForm","authContext_AuthContext","Switch","components_AnonRoute","exact","components_PrivateRoute","Profile","Join","PageNotFound","ReactDOM","BrowserRouter","src_App"],"mappings":"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","file":"static/js/main.ad465ae3.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  signup(user) {\n    const { username, password, email } = user;\n    return this.auth.post('/auth/signup', {username, password, email})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth.post('/auth/login', {username, password})\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data)\n  }\n\n  me() {\n    return this.auth.get('/auth/me')\n    .then(response => response.data)\n  }\n}\n\nconst auth = new Auth();\n\nexport default auth","import React, { Component } from 'react'\nimport authService from './auth-service';\n\nconst { Provider, Consumer } = React.createContext();\n\nexport const withAuth = (Comp) => { \n  return (props) => {\n    return <Consumer>\n      {value => {\n        return <Comp {...value} {...props} />\n      }}\n    </Consumer>\n  }\n}\n\nexport default class AuthContext extends Component {\n\n  state = {\n    isLogged: false,\n    user: null,\n    isLoading: true\n  }\n\n  componentDidMount() {\n    authService.me()\n    .then((user)=>{\n      this.setState({\n        user,\n        isLoading : false,\n        isLogged : true\n      })\n    })\n    .catch((error)=>{\n      this.setState({\n        isLogged : false,\n        user : null,\n        isLoading : false\n      })\n    })\n  }\n\n  handleSetUser = (user) => {\n    this.setState({\n      user,\n      isLogged : true\n    })\n  }\n\n  handleLogOut = () =>{\n    authService.logout()\n    .then(()=>{\n      this.setState({\n        user : null,\n        isLogged : false\n      })\n    })\n    .catch((error)=>{\n      console.log('Hay que manejar errores')\n    })\n  }\n\n  render() {\n    const { isLoading } = this.state;\n    return isLoading ? <h1>Loading...</h1> : <Provider value={{\n      isLogged: this.state.isLogged,\n      user: this.state.user,\n      logout: this.handleLogOut,\n      setUser: this.handleSetUser\n    }}>\n      {this.props.children}\n    </Provider>\n  }\n}\n","import React, { Component } from 'react';\nimport {Route,Redirect} from 'react-router-dom';\nimport { withAuth } from '../lib/authContext';\n\nclass PrivateRoute extends Component {\n  render() {\n    const {path, component:Component, isLogged, ...rest} = this.props\n    return (\n      <Route  {...rest } path={path} render={(props)=>{\n        return isLogged ? <Component {...props} /> : <Redirect to={'/'} />\n      }} />\n    )\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from 'react';\nimport {Route,Redirect} from 'react-router-dom';\nimport { withAuth } from '../lib/authContext';\n\nclass AnonRoute extends Component {\n  render() {\n    const {path, component:Component, isLogged, ...rest} = this.props\n    return (\n      <Route  {...rest } path={path} render={(props)=>{\n        return !isLogged ? <Component {...props} /> : <Redirect to={'/profile'} />\n      }} />\n    )\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\n\nclass PageNotFound extends Component {\n  render() {\n    return (\n        <div>\n         <h4>404 Error<br />Sorry, page not found... Try again!</h4>\n        </div>\n    )\n  }\n}\n\nexport default withAuth(PageNotFound);","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport auth from '../lib/auth-service';\nimport { withAuth } from '../lib/authContext';\n\nclass Signup extends Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n    alert: '',\n    email: '',\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password, email }  = this.state;\n\n    auth.signup({ username, password, email })\n      .then( (user) => {\n        this.setState({\n            username: \"\",\n            password: \"\",\n            email: \"\"\n        });\n        this.props.setUser(user);\n        this.props.history.push('/profile');        \n      })\n      .catch( error => {\n        const { data } = error.response;\n        switch(data.error){\n          case 'empty':\n            this.setState({\n              alert: 'username or password can´t be empty'\n            });\n            break;\n          case 'username-not-unique':\n            this.setState({\n              alert: 'username already in use'\n            });\n            break;\n          default:\n            this.setState({\n              alert: ''\n            })\n        }   \n      })\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  handleLogin = () => {\n    this.props.handleLogin()\n  }\n  render() {\n    const { username, password, alert, email } = this.state;\n    return (\n      <div className=\"signup log-sign-container\">\n        { alert ? <p className=\"warning\">{alert}</p> :  null}\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Username:</label>\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Email:</label>\n            <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Password:</label>\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n          </div>\n          <div className=\"input-submit\">\n            <input className=\"log-signup-btn btn\" type=\"submit\" value=\"SignUp\" />\n          </div>\n        </form>\n          <p className=\"log-sign\">Already have an account? <span className=\"toggle-sign-log\" onClick={this.handleLogin}>Login</span></p>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Signup));","import React, { Component } from 'react';\nimport auth from '../lib/auth-service';\nimport { withAuth } from '../lib/authContext';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    alert: '',\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state\n\n    auth.login({ username, password })\n    .then( (user) => {\n      this.props.setUser(user)\n      this.props.history.push('/profile'); \n    })\n    .catch( error => {\n      const { data } = error.response;\n      switch(data.error){\n        case 'User or password invalid':\n          this.setState({\n            alert: 'invalid username or password'\n          });\n          break;\n        case 'not-found':\n          this.setState({\n            alert: 'invalid username or password'\n          });\n          break;\n        case 'validation':\n          this.setState({\n            alert: 'username or password can´t be empty'\n          });\n          break;\n        default:\n          this.setState({\n            alert: ''\n          })\n      }   \n    })\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  handleSignup = () => {\n    this.props.handleSignup()\n  }\n\n  render() {\n    const { username, password, alert } = this.state;\n    return (\n      <div className=\"login log-sign-container\">\n        { alert ? <p className=\"warning\">{ alert }</p> :  null}\n        <form onSubmit={ this.handleFormSubmit } >\n          <div className=\"input\"> \n            <label className=\"log-sign-label\">Username:</label>\n            <input type=\"text\" name=\"username\" value={ username } onChange={ this.handleChange }/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Password:</label>\n            <input type=\"password\" name=\"password\" value={ password } onChange={ this.handleChange } />\n          </div>\n          <div className=\"input-submit\">\n            <input className=\"log-signup-btn btn\" type=\"submit\" value=\"Login\" />\n          </div>\n          <p className=\"log-sign\">Don't you have an acount? <span className=\"toggle-sign-log\" onClick={ this.handleSignup }>SignUp</span></p>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Login));","import React, { Component } from 'react';\nimport Signup from '../components/Signup';\nimport Login from '../components/Login';\n\n\nclass HomePage extends Component {\n\n  state = {\n    showSignup: true\n  }\n\n  handleLogin = () => {\n    this.setState({\n      showSignup: !this.state.showSignup,\n    })\n  }\n\n  \n\n\n  render() {\n    const {showSignup} = this.state\n    return (\n      <div className=\"home-page\">\n      <img className=\"logo\" src=\"/img/paranoia.png\" alt=\"paranoia logo\"/>\n      <h3 className=\"slogan\">Frase descriptiva</h3>\n      {showSignup ? <Signup handleLogin={this.handleLogin}/> : <Login handleSignup={this.handleLogin}/>}\n      </div>\n    )\n  }\n}\n\nexport default HomePage;","import axios from 'axios';\n\nclass ProfileServer {\n\n  constructor() {\n\n    this.user = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  getUser(userId) {\n    return this.user.get('/user')\n    .then(({ data }) => data);\n  }\n\n\n  editProfile(userInfo, userId, image) {\n    return this.user.patch(`/user/${userId}/edit`, {userInfo, image})\n    .then(({ data }) => data);\n  }\n\n  editPicture(formData, userId) {\n    return this.user.patch(`/user/${userId}/picture`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }})\n    .then(({ data }) => data);\n  }\n}\nconst profileServer = new ProfileServer();\n\nexport default profileServer;","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\nimport { Link } from 'react-router-dom';\n\nclass MyGames extends Component {\n\n  state = {\n    startedStatus: null,\n    gameFinished: null,\n  }\n\n  renderGameRoomDetail () {\n    const { game } = this.props; \n    const { gameFinished } = game;\n    if (gameFinished) {\n      return <Link className=\"decoration-none\" to={`/game/${ game._id }/over`}>\n        <div className=\"game-list\">\n          <p className=\"game-room\">{ game.roomName }</p>\n          <p className=\"finished\">finished</p>\n        </div>\n      </Link>\n    } \n    else if (game.startedStatus) {\n    return <Link className=\"decoration-none\"  to={`/game/${ game._id }`}>\n        <div className=\"game-list\">\n          <p className=\"game-room\">{ game.roomName }</p> \n          <p className=\"active\">active</p>\n        </div>\n      </Link>\n    }\n\n    return <div className=\"game-list\">\n        <p className=\"game-room\">{ game.roomName }</p> \n        <p className=\"pending\">pending</p>\n      </div>\n  }\n\n  render() {\n\n    const { game, admin } = this.props; \n    //const { gameStatus } = game;\n\n    return (\n      <div className=\"my-games\">\n       { admin ? <Link className=\"decoration-none\" to={`/game/${ game._id }/create`}><p className=\"game-list admin\">{ game.roomName }</p></Link>\n        : this.renderGameRoomDetail() \n      }\n      </div>\n    )\n  }\n}\n\nexport default withAuth(MyGames);","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\n\nclass Button extends Component {\n\n  handleButton = () => {\n    this.props.handleButton(this.props.state, this.props);\n  }\n\n  render() {\n    return (\n      <button className=\"btn\" onClick={this.handleButton}>{this.props.children}</button>\n    )\n  }\n}\n\nexport default withAuth(Button);\n","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport profileServer from '../lib/userServer';\nimport { withRouter } from 'react-router-dom';\n\nclass Form extends Component {\n\n  state = {\n    changeQuote: false,\n    changeImage: false,\n    quote: this.props.quote,\n    image: '',\n  }\n\n  handleEdit = event => {\n    this.setState({\n      quote: event.target.value,\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const userId = this.props.profileInfo;\n    const userInfo = {\n      quote: this.state.quote,\n    }\n    \n    profileServer.editProfile(userInfo, userId)\n    .then( game => {\n      this.props.handleSubmit(game.quote);\n    })\n   \n  }\n\n  render() {  \n    const { quote } = this.state;\n    \n    return (\n      <form className=\"quote-form\" onSubmit={this.handleSubmit}>\n      {/* {foto edit} */}\n        <input className=\"input is-success\" autofocus=\"true\" placeholder={ quote } type=\"text\" name=\"Kill Sentence\" value={quote} onChange={this.handleEdit}/>\n        {/* <input className=\"button is-success edit-btn\" type=\"submit\" value=\"\"/> */}\n        <input className=\"icon\" type=\"image\" src='img/ok.png' alt=\"icon submit\"/>\n    </form> \n    )\n  }\n}\n\nexport default withAuth(withRouter(Form));","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport profileServer from '../lib/userServer';\nimport { withRouter } from 'react-router-dom';\n\nclass EditImage extends Component {\n  \n  state = {\n    image: ''\n  }\n\n  fileUpload =  event  => {\n    const file = event.target.files[0]\n    this.setState({\n      image: file\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    const file = this.state.image;\n    formData.append(\"picture\", file)\n    profileServer.editPicture(formData, this.props.user._id)\n    .then(user => {\n      this.props.setUser(user)\n      this.setState({\n        image: user.image\n      })\n      this.props.handleSubmit(file);\n    })\n   \n  }\n\n  render() {  \n  \n    return (\n      <form onSubmit={this.handleSubmit}>\n       <input type=\"file\" name=\"image\" onChange={this.fileUpload}/>\n       <input className=\"edit-btn\" type=\"submit\" value=\"Edit\"/>\n      </form>\n      \n    )\n  }\n}\n\nexport default withAuth(withRouter(EditImage));","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport { Link } from 'react-router-dom'\n\nclass Navbar extends Component {\n  render() {  \n    const { username, image } = this.props.user\n    return (\n      <div className=\"nav-bar\">\n        <Link className=\"decoration-none\" to={'/profile'}>\n          <div className=\"nav-container\">\n            <div>\n              <img className=\"nav-img\" src={ image } alt=\"user icon\"/>       \n            </div>\n            <p className=\"hello-user\">Hello {username}!</p>\n          </div>\n        </Link>\n        <p className=\"logout\"onClick={this.props.logout}>Logout</p>\n      </div> \n    )\n  }\n}\n\nexport default withAuth(Navbar);","import React from \"react\";\nimport Popup from \"reactjs-popup\";\n\nconst HowToplay= () => (\n  <Popup trigger={<img className=\"info-icon\" src=\"img/info.png\" alt=\"info icon\"/>} position=\"left top\">\n     {close => (\n      <div className=\"popup\">\n        {/* <a href='#' className=\"close\" onClick={close}>\n          &times;\n        </a> */}\n        <div className=\"content\" >\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae\n              magni omnis delectus nemo, maxime molestiae dolorem numquam\n              mollitia, voluptate ea, accusamus excepturi deleniti ratione\n              sapiente! Laudantium, aperiam doloribus. Odit, aut.\n        \n        </div>\n     \n      </div>\n    )}\n  </Popup>\n);\n\nexport default HowToplay;","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport userServer from '../lib/userServer';\nimport MyGames from '../components/MyGames';\nimport Button from '../components/Button';\nimport Form from '../components/Form';\nimport EditImage from '../components/EditImage';\nimport Navbar from '../components/Navbar';\nimport HowToplay from '../components/HowToplay';\n\n\nclass Profile extends Component {\n\n  state = {\n    user: '',\n    games: [],\n    isLoading: true,\n    quote:'',\n    file:'',\n    showEditForm: false,\n    id:'',\n    showEditImage: false,\n    prueba: false,\n  }\n\n  joinGameLink = () => {\n    this.props.history.push('/game/join')\n  }\n\n  createNewGameLink = () => {\n    this.props.history.push('/game/create')\n  }\n\n  handleSubmit = (quote) => {\n   this.setState({\n     quote,\n   })\n   this.toggleEditForm();\n   this.update();\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    })\n    this.update()\n  }\n\n  update() {  \n    const userId = this.props.user._id;\n    userServer.getUser(userId)\n    .then(data => {\n      this.setState({\n        user: data.user.username,\n        image: data.user.image,\n        games: data.games,\n        isLoading: false,\n        quote: data.user.quote,\n        id: data.user._id,\n      })\n    })\n    .catch(error => {\n      console.log(error)\n    })\n  }\n\n  renderGames() {\n    const { games } = this.state;\n    return games.map((game) => {\n      return <MyGames \n        key={game._id}\n        game={game}\n        admin={false}/>  \n    })  \n  }\n\n  renderAdminGames() {\n    const { games, id } = this.state;\n    const adminGames = games.filter(game => {\n      return (!game.startedStatus && game.admin === id);\n    })\n    return adminGames.map((game) => {\n      return <MyGames \n        key={game.roomName}\n        game={game}\n        admin={true}/>  \n    }) \n  }\n  \n toggleEditForm = () => {\n   const { showEditForm } = this.state;\n   this.setState({\n     showEditForm: !showEditForm,\n   }) \n }\n\n  toggleEditImage = () => {\n    const { showEditImage } = this.state\n    this.setState({\n      showEditImage: !showEditImage\n    })\n  }\n\n  submitImage = (file) => {\n\n    this.setState({\n      file,\n    })\n    this.toggleEditImage();\n    this.update();\n  }\n\n  render() {\n\n    const { id, quote, showEditForm,isLoading, image, showEditImage} = this.state;\n    \n    return (\n      <div className=\"profile\">\n        {isLoading ? <h1>Loading... </h1> : <div>\n          <Navbar  />\n          <HowToplay/>\n          <div className=\"user-info\">\n            <div className=\"img-container\">\n              <img className=\"profile-img\" src={ image } alt=\"User\" onClick={this.toggleEditImage }/>                \n              {showEditImage ? <EditImage handleSubmit={ this.submitImage } imageinfo={image}/> : null}\n            </div>\n            <div className=\"quote\">\n              {showEditForm ? <Form profileInfo={ id } quote={ quote } handleSubmit={ this.handleSubmit }/> : <div> {!quote ? <h3>'Kill sentence'</h3> : <h3>{ quote }</h3>} </div>} \n              {showEditForm ? null :<div>               \n                <img className=\"icon\" src='img/Edit-icon.png' alt='edit quote' onClick={ this.toggleEditForm }/>\n              </div>  }            \n            </div>            \n          </div>\n          <div className=\"profile-btns\">\n            <Button handleButton={ this.createNewGameLink }>New Game</Button>\n            <Button handleButton={ this.joinGameLink }>Join Game</Button>\n          </div>\n          <div className=\"info-container\">\n            <div className=\"games\">\n              <h5>My Games:</h5>\n                { this.renderGames() }\n            </div>\n            <div className=\"games\">\n              <h5>Admin Games:</h5>\n                { this.renderAdminGames() }\n            </div>        \n          </div>\n\n      </div>}\n      </div>\n    )\n  }\n}\nexport default withAuth(Profile);","import axios from 'axios';\n\nclass GameServer {\n\n  constructor() {\n\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  createGame(roomName, mission, email, message) {\n    return this.auth.post('/game/' , { roomName, mission, email, message })\n    .then(({ data }) => data);\n  }\n\n  getGameInfo(gameId) {\n    return this.auth.get(`/game/${gameId}`)\n    .then(({ data }) => data);\n  }\n\n  joinGame(roomName, mission) {\n    return this.auth.post('/game/join', { roomName, mission })\n    .then(({ data }) => data);\n  }\n\n  startGame(gameId) {\n    return this.auth.get(`/game/${gameId}/start`)\n    .then(({ data }) => data);\n  }\n\n  killUser(gameId, userName) {\n    return this.auth.post(`/game/${gameId}/kill`, { userName })\n    .then(({ data }) => data);\n  }\n\n  reSortGame(gameId) {\n    return this.auth.get(`/game/${gameId}/sort`)\n    .then(({ data }) => data);\n  }\n\n}\n\n\n\nconst gameServer = new GameServer();\n\nexport default gameServer;","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\n\nclass ParticipantsList extends Component {\n\n  state = {\n    killedByUser: [],\n    crossedClass: '',\n    isLoading: false,\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      isLoading: true,\n    })\n    this.killedByUser(this.scrachParticipant);\n    this.setState({\n      isLoading: false,\n    })\n  }\n\n\n  killedByUser = (callback) => {\n    const { participants, participant } = this.props;\n    const { killLog, username } = this.props.state;\n    const killedByUser = participants.filter(player => {\n      const killedBU = killLog.find(killEvent => {\n         return ((killEvent.killer === username) && (killEvent.target === player.username));\n      })\n      return killedBU;\n    })\n    if (killedByUser) {\n      this.setState({\n        killedByUser: killedByUser,\n      },() => {\n        callback(participant);\n      })\n      \n    }\n  }\n\n  scrachParticipant = (participant) => {\n    const { killedByUser } = this.state;\n    const participantKilledByUser = killedByUser.find(killedUser => {\n       return killedUser.username === participant.username;\n    })\n    if (participantKilledByUser){\n      this.setState({\n        crossedClass: 'crossed',\n      })\n    }\n  }\n\n  render() {\n    const { participant } = this.props;\n    const { crossedClass, isLoading } = this.state;\n\n    return (\n          <li key={participant.username}>\n            {isLoading? <h3>...Loading</h3>\n              :<span className={crossedClass}> {participant.username} </span> \n            }  \n          </li>\n         \n    )\n  }\n}\n\nexport default withAuth(ParticipantsList);","import React, { Component } from 'react';\nimport gameServer from '../lib/gameServer';\nimport { withAuth } from '../lib/authContext';\nimport { withRouter } from 'react-router-dom';\nimport Button from '../components/Button';\n\nclass Mission extends Component {\n\n  state = {\n    username: '',\n    userMission: {},\n    isLoading: true,\n    numberOfSurvivors: null,\n    admin: '',\n    gameId:'',\n    alert: '',\n  }\n\n  componentDidMount = () => {\n    const { username, gameId, numberOfSurvivors, admin } = this.props.state;\n    this.setState({\n      username: username,\n      userMission: this.props.userMission,\n      isLoading: false,\n      gameId: gameId,\n      numberOfSurvivors: numberOfSurvivors,\n      alert: '',\n      admin,\n    })  \n  }\n\n  handleKill = (state, props) => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.state.gameId;\n    gameServer.killUser(gameId)\n    .then( game => {\n      if (game.numberOfSurvivors <= 1) {\n        this.props.history.push(`/game/${gameId}/over`);\n      } else {\n      const user = game.participants.find(participant => {\n        return participant.username === this.state.username;\n      });\n      const userId = user._id;\n      let userMission = game.missions.find(mission => {\n        return mission.killer === userId;\n      })\n      if (userMission) {\n        const userTarget = game.participants.find(participant => {\n          return participant._id === userMission.target;\n        })\n        userMission.target = userTarget.username;\n      } else {\n        userMission = {target: 'no more players', mission: 'no more missions'}\n      }\n      this.setState({\n        userMission,\n        isLoading: false,\n        numberOfSurvivors: game.numberOfSurvivors,\n        alert: 'Congratulations, you killed your target!',\n      })\n      }\n    })\n    .catch()\n  }\n\n  \n  render() {\n    const { isLoading, userMission, numberOfSurvivors, alert } = this.state;\n    return (\n      <div> {isLoading? <h1>...Loading</h1>\n        : <div>\n            <h3>Number of Survivors: {numberOfSurvivors}</h3>\n            <p>Your Target: {userMission.target}</p>\n            <p>Mission: {userMission.mission}</p>\n            <Button handleButton={this.handleKill} state={this.state} props={this.props}>Kill</Button>\n            { alert ? <p className=\"ok-alert\">{ alert }</p> : null}\n         </div>\n      }\n      </div>  \n    )\n  }\n}\n\nexport default withAuth(withRouter(Mission));\n","import React, { Component } from 'react'\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport ParticipantsList from '../../components/ParticipantsList';\nimport Mission from '../../components/Mission';\nimport Button from '../../components/Button';\nimport Navbar from '../../components/Navbar';\n\nclass GameRoom extends Component {\n\n  state = {\n    username:'',\n    admin:'',\n    roomName:'',\n    participants:[],\n    missions: [],\n    endingDate: '',\n    numberOfSurvivors: null,\n    killLog:[],\n    startedStatus: false, \n    userStatus: null,\n    isLoading: true,\n    gameId:'',\n}\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.props.match.params.id;\n    gameServer.getGameInfo(gameId)\n      .then( game => {\n        game.missions = this.populateMissions(game)\n        game.killLog = this.populateKillLog(game);\n        const { username } = this.props.user;\n        const userDead = game.killLog.find(killEvent => {\n          return (killEvent.target === username);\n        });\n        let userStatus = userDead? 'dead' : 'alive';\n        this.setState({\n          username:username,\n          admin: game.admin.username,\n          roomName: game.roomName,\n          participants: game.participants,\n          missions: game.missions,\n          numberOfSurvivors: game.numberOfSurvivors,\n          killLog: game.killLog,\n          isLoading: false,\n          gameId,\n          userStatus,\n          userDead,\n          // startedStatus: game.startedStatus, idem\n        })\n      })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n\n  populateMissions = (game) => {\n    const missions = game.missions.map(mission => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (mission.killer === game.participants[i]._id) {\n            mission.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (mission.target === game.participants[i]._id) {\n          mission.target = game.participants[i].username;\n        }  \n     }\n     return mission;\n    })\n    return missions;\n  }\n\n  populateKillLog = (game) => {\n    const killLog = game.killLog.map(killEvent => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (killEvent.killer === game.participants[i]._id) {\n            killEvent.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (killEvent.target === game.participants[i]._id) {\n          killEvent.target = game.participants[i].username;\n        }  \n     }\n     return killEvent;\n    })\n    return killLog;\n  }\n\n  handleReSort = (state, props) => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.state.gameId;\n    gameServer.reSortGame(gameId)\n    .then( game => {\n      game.missions = this.populateMissions(game)\n      console.log(game.missions);\n      this.setState({\n        isLoading: false,\n        missions: game.missions,\n      })\n    })\n    .catch()\n  }\n\n  render() {\n    const { username, admin, roomName, participants, missions, isLoading, userStatus, userDead } = this.state;\n    const userMission = missions.find( mission => {\n      return mission.killer === username;\n    });\n    const isUserAdmin = admin === username;\n    return (\n       <div> \n          {isLoading ? <h1>...isLoading</h1>\n            : <div>\n                <Navbar  />\n                <h1>Game: {roomName}</h1>\n                <h3>Admin: {admin}</h3>\n                <h3>User: {username}</h3>\n                {(userStatus === 'alive')? <Mission userMission={userMission} state={this.state}>\n                  </Mission>\n                  : <h3>You have been killed by: {userDead.killer} for: {userDead.mission}</h3>\n                 }  \n                 <ul>\n                  {participants.map(participant => {\n                      return <ParticipantsList key={participant.username} participant={participant} participants={participants} state={this.state}/>\n                      })\n                    }\n                </ul>\n                { isUserAdmin? <Button handleButton={this.handleReSort} \n                    state={this.state} props={this.props}> Re-Sort Game </Button>\n                    : null\n                }\n              </div>   \n          }\n          </div>  \n    )\n  }\n}\n\nexport default withAuth(withRouter(GameRoom));","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\n\nclass CreateParticipantList extends Component {\n\n  render() {\n\n    const { participants } = this.props;\n\n    return (\n      <ul>\n      {participants.map(participant => {\n        return <li key={participant.username}>\n                  <span > {participant.username} </span> \n               </li>\n        })\n      }\n      </ul>\n    )\n  }\n}\n\nexport default withAuth(CreateParticipantList);","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport { withRouter } from 'react-router-dom';\nimport gameServer from '../../lib/gameServer';\nimport Button from '../../components/Button';\nimport CreateParticipantList from '../../components/CreateParticipantList';\nimport Navbar from '../../components/Navbar';\n\nclass Create extends Component {\n\n  state = {\n    admin:'',\n    roomName:'',\n    participants:[], \n    gameId:'',\n}\n\ncomponentDidMount() {\n  const gameId = this.props.match.params.id;\n  gameServer.getGameInfo(gameId)\n  .then( game => {\n    this.setState({\n      admin: game.admin.username,\n      roomName: game.roomName,\n      participants: game.participants,\n      gameId,\n    })\n  })\n}\n\nhandleStartClick(state, props) {\n  const { gameId } = this.state;\n  gameServer.startGame(gameId)\n  .then( game => {\n    const gameId = game._id;\n    this.props.history.push(`/game/${gameId}`);\n  })\n}\n\n\n  render() {\n    const { admin, roomName, participants } = this.state;\n\n    return (\n      <div>\n        <Navbar  />\n        <h1>Room Name: {roomName} </h1>\n        <h3>Admin: {admin} </h3>\n        <h3> Participants: \n         \n          { participants ? <CreateParticipantList participants={participants}/> : null }\n          <Button handleButton={this.handleStartClick} state={this.state} props={this.props}>Start Game</Button>\n                \n          {/*tenemos que cambiar el boton por un form para incluir cuanto quiere el admin que dure el juego*/}\n        </h3>  \n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Create));","import React, { Component } from 'react'\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport Navbar from '../../components/Navbar';\n\n\nclass Join extends Component {\n\n  state = {\n    roomName: '',\n    mission: '',\n  }\n\n  handleEdit = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const { roomName, mission } = this.state;\n\n    gameServer.joinGame(roomName, mission)\n    .then (() => {\n      this.props.history.push('/profile', this.state.alert)\n    })\n  }\n \n  render() {\n    return (\n      <div>\n        <Navbar  />\n        <h2>Join a Game</h2>\n          <form onSubmit={this.handleSubmit}>\n          <label>Introduce the name of the room:</label>\n          <input className=\"input is-success\" placeholder=\"Room's name\" type=\"text\" name=\"roomName\" onChange={this.handleEdit}/>\n          <div>\n          <label>To enter your mission, remember:<br />· It must be something simple, but fun (sing 'La Macarena' or try to touch the nose with his tongue)<br />· The mission should not be directed to anyone in particular</label>\n          </div>\n          <input className=\"input is-success\" placeholder=\"Your Mission\" type=\"text\" name=\"mission\"  onChange={this.handleEdit}/>\n          <input className=\"btn is-success\" type=\"submit\" value=\"Go!\"/>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(Join);","import React, { Component } from 'react'\n\nclass EmailForm extends Component {\n  state = {\n    value: ''\n  }\n\n  handleChangeInput = (event) => {\n    this.setState({\n      value: event.target.value\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { value } = this.state;\n    this.props.onSubmit(value)\n    this.setState({\n      value: '',\n    })\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"text\" value={value} onChange={this.handleChangeInput}/>\n        <input type=\"submit\" value=\"add email\"/>\n      </form>\n    )\n  }\n}\nexport default EmailForm;","import React, { Component } from 'react'\n\nclass DeleteEmail extends Component {\n \n  render() {\n    const { emails, index, onDelete } = this.props;\n\n    return (\n      <li>\n        {emails}\n        <button onClick={() => {onDelete(index)}}>delete</button>\n      </li>\n    )\n  }\n}\n\nexport default DeleteEmail;","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport Navbar from '../../components/Navbar';\nimport EmailForm from '../../components/EmailForm';\nimport DeleteEmail from '../../components/DeleteEmail';\n\nclass CreateForm extends Component {\n\n  state = {\n    roomName:'', \n    mission: '',\n    emails: [],\n}\n\nhandleEdit = event => {\n  this.setState({\n    [event.target.name]: event.target.value,\n  })\n  \n}\n\nhandleSubmit = (event) => {\n  event.preventDefault();\n  const message = document.getElementById('message').value;\n  const { roomName, mission, emails } = this.state;\n  let emailString;\n  if (typeof emails === Array) {\n     emailString = emails.join(', ');\n  } else {\n    emailString = emails;\n  }\n  console.log(emailString);\n  gameServer.createGame(roomName, mission, emailString, message)\n  .then( game => {\n    const gameId = game._id;\n    this.props.history.push(`/game/${gameId}/create`);\n  })\n \n}\n\nhandleSubmitEmail = (value) => {\n  const { emails } = this.state;\n  emails.push(`${value}`);\n  this.setState({\n    emails,\n  })\n  console.log(emails);\n}\n\nhandleDeleteEmail = (index) => {\n  const { emails } = this.state;\n  emails.splice(index, 1);\n  this.setState({\n    emails,\n  })\n}\n\n  render() {\n    const { roomName, mission, emails } = this.state;\n    \n    return (\n      <div>\n        <Navbar  />\n        <h4>Create game:</h4>\n        <h4>Invite players:</h4>\n        <EmailForm onSubmit={this.handleSubmitEmail} />\n        <div> {emails ? <ul>\n                  { emails.map((email, index) => {\n                    return <DeleteEmail \n                      emails={email} \n                      key={index}\n                      index={index}\n                      onDelete={this.handleDeleteEmail} \n                    />\n                  })}\n                </ul>\n                : null \n                }\n          </div>\n        <form className=\"create-game-form\" onSubmit={this.handleSubmit}>\n          <input className=\"input is-success\" placeholder=\"game name\" type=\"text\" name=\"roomName\" value={roomName} onChange={this.handleEdit}/>\n          <input className=\"input is-success\" placeholder=\"Introduce a mission\" type=\"text\" name=\"mission\" value={mission} onChange={this.handleEdit}/>\n         <div className=\"mail-form\">\n            <label htmlFor=\"message\">Message</label>\n            <textarea className=\"form-message\" rows=\"5\" id=\"message\"></textarea>\n          </div>\n          <h4 className=\"header invite\">Invite players:</h4>\n          <div className=\"form-input\">\n            <label className=\"label\" htmlFor=\"email-adress\">Email addresses</label>\n            <input className=\"form-message form-control\" type=\"text\" name=\"email-adress\"  id=\"email\" placeholder=\"email-1@email.com, email-2@email.com...\"/>\n          </div>\n          <div className=\"form-input\">\n            <label className=\"label\" htmlFor=\"message\" >Message</label>\n            <textarea className=\"form-message text-area\" rows=\"5\" id=\"message\" placeholder=\"remember include the name of the game\"></textarea>\n          </div>\n          <input className=\"btn send-create\" type=\"submit\" value=\"Invite and create\"/>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(CreateForm));","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport  gameServer  from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport Navbar from '../../components/Navbar';\n\nclass GameOver extends Component {\n\n  state = {\n    username: '',\n    missions: {},\n    winner:'',\n    isLoading: true,\n    roomName:'',\n    killLog:[],\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.props.match.params.id;\n    gameServer.getGameInfo(gameId)\n    .then( game => {\n      game.missions = this.populateMissions(game)\n      game.killLog = this.populateKillLog(game)\n      this.setState({\n        username:this.props.user.username,\n        admin: game.admin.username,\n        roomName: game.roomName,\n        participants: game.participants,\n        missions: game.missions,\n        killLog: game.killLog,\n        isLoading: false,\n        winner: game.missions[0].killer,\n        gameId,\n        // startedStatus: game.startedStatus, idem\n      })\n    })\n  }\n\n  populateKillLog = (game) => {\n    const populatedkillLog = game.killLog.map(killEvent => {\n      for (let i = 0; i<game.participants.length; i++) {\n        if (killEvent.killer === game.participants[i]._id) {\n          killEvent.killer = game.participants[i].username;\n        }\n      }\n      for (let i = 0; i <game.participants.length; i++) {\n        if (killEvent.target === game.participants[i]._id) {\n          killEvent.target = game.participants[i].username;\n        }\n      }\n      return killEvent;\n    })\n    return populatedkillLog;\n  }\n\n  populateMissions = (game) => {\n    const missions = game.missions.map(mission => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (mission.killer === game.participants[i]._id) {\n            mission.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (mission.target === game.participants[i]._id) {\n          mission.target = game.participants[i].username;\n        }  \n     }\n     return mission;\n    })\n    return missions;\n  }\n\n  render() {\n\n    const { winner, isLoading, killLog } = this.state;\n    return (\n      <div>\n        {isLoading? <h1>...Loading</h1>\n         : <div> \n              <Navbar  />\n              <h1>winner: {winner} </h1>\n               <p>Kill Log</p>\n              <div> { killLog.map(killEvent => {\n                return (\n                  <div key={killEvent.mission}>\n                    <p>Killer: {killEvent.killer}</p>\n                    <p>Target: {killEvent.target}</p>\n                    <p>Mission: {killEvent.mission}</p>\n                    <p>Date of death: {killEvent.date}</p>\n                  </div>\n                )\n              }) } </div>\n           </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(GameOver));","import React, { Component } from 'react';\nimport { Switch } from 'react-router-dom';\nimport PrivateRoute from './components/PrivateRoute';\nimport AuthContext from './lib/authContext';\nimport AnonRoute from './components/AnonRoute';\nimport PageNotFound from './components/PageNotFound';\nimport HomePage from './pages/HomePage';\nimport Profile from './pages/Profile';\nimport GameRoom from './pages/game/GameRoom';\nimport Create from './pages/game/Create';\nimport Join from './pages/game/Join';\nimport CreateForm from './pages/game/CreateForm';\nimport GameOver from './pages/game/GameOver';\nimport './styles.css'\n\n\n\nclass App extends Component {\n\n  state = {\n    user: '',\n    games: [],\n    isLoading: true,\n    showCreateForm: false,\n    quote:'',\n    image:'',\n    showEditForm: false,\n    id:'',\n    showEditImage: false,\n  }\n\n  render() {\n    return (\n      <AuthContext>\n        <div className=\"container\">\n          <div>\n            <Switch>\n              <AnonRoute exact path=\"/\" component={HomePage} />\n              {/* <Route exact path=\"/\" component={HomePage} /> */}\n              <PrivateRoute exact path=\"/profile\" component={Profile} />\n              <PrivateRoute  exact path=\"/game/join\" component={Join} />\n              <PrivateRoute  exact path=\"/game/create\" component={CreateForm} />\n              <PrivateRoute path=\"/game/:id/create\" component={Create} />\n              <PrivateRoute exact path=\"/game/:id\" component={GameRoom} />\n              <PrivateRoute exact path=\"/game/:id/over\" component={GameOver} />\n              <PrivateRoute path=\"/*\" component={PageNotFound} />\n          </Switch>\n          </div>\n        </div>\n      </AuthContext>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\n// import 'milligram/dist/milligram.css';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));"],"sourceRoot":""}