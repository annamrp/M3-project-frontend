(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(57)},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),i=n.n(o),u=n(60),s=n(2),c=n(3),l=n(5),m=n(4),h=n(6),p=n(18),d=n(58),f=n(59),g=n(13),b=n.n(g),v=new(function(){function e(){Object(s.a)(this,e),this.auth=b.a.create({baseURL:"https://paranoiaapp.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),j=r.a.createContext(),O=j.Provider,E=j.Consumer,y=function(e){return function(t){return r.a.createElement(E,null,function(n){return r.a.createElement(e,Object.assign({},n,t))})}},S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLogged:!1,user:null,isLoading:!0},n.handleSetUser=function(e){n.setState({user:e,isLogged:!0})},n.handleLogOut=function(){v.logout().then(function(){n.setState({user:null,isLogged:!1})}).catch(function(e){console.log("Hay que manejar errores")})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then(function(t){e.setState({user:t,isLoading:!1,isLogged:!0})}).catch(function(t){e.setState({isLogged:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("h1",null,"Loading..."):r.a.createElement(O,{value:{isLogged:this.state.isLogged,user:this.state.user,logout:this.handleLogOut,setUser:this.handleSetUser}},this.props.children)}}]),t}(a.Component),w=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.component,a=e.isLogged,o=Object(p.a)(e,["path","component","isLogged"]);return r.a.createElement(d.a,Object.assign({},o,{path:t,render:function(e){return a?r.a.createElement(n,e):r.a.createElement(f.a,{to:"/"})}}))}}]),t}(a.Component)),k=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.component,a=e.isLogged,o=Object(p.a)(e,["path","component","isLogged"]);return r.a.createElement(d.a,Object.assign({},o,{path:t,render:function(e){return a?r.a.createElement(f.a,{to:"/profile"}):r.a.createElement(n,e)}}))}}]),t}(a.Component)),C=n(61),L=n(12),N=n(62),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;v.signup({username:t,password:a}).then(function(e){n.setState({username:"",password:""}),n.props.setUser(e),n.props.history.push("/profile")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleLogin=function(){n.props.handleLogin()},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"signup"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"}),r.a.createElement("p",null,"Already have an account? ",r.a.createElement("span",{onClick:this.handleLogin},"Login"))))}}]),t}(a.Component),U=y(Object(N.a)(G)),q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;v.login({username:a,password:r}).then(function(e){n.props.setUser(e),n.props.history.push("/profile")}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleSignup=function(){n.props.handleSignup()},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"}),r.a.createElement("p",null,"Don't you have an acount? ",r.a.createElement("span",{onClick:this.handleSignup},"SignUp"))))}}]),t}(a.Component),A=y(Object(N.a)(q)),F=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showLogin:!1,showSignup:!0},n.handleLogin=function(){n.setState({showSignup:!1})},n.handleSignup=function(){n.setState({showSignup:!0})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.showSignup;return r.a.createElement("div",{className:"home-page"},e?r.a.createElement(U,{handleLogin:this.handleLogin}):r.a.createElement(A,{handleSignup:this.handleSignup}))}}]),t}(a.Component),P=new(function(){function e(){Object(s.a)(this,e),this.auth=b.a.create({baseURL:"https://paranoiaapp.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"createGame",value:function(e,t){return this.auth.post("/game/",{roomName:e,mission:t}).then(function(e){return e.data})}},{key:"getGameInfo",value:function(e){return this.auth.get("/game/".concat(e)).then(function(e){return e.data})}},{key:"joinGame",value:function(e,t){return this.auth.post("/game/join",{roomName:e,mission:t}).then(function(e){return e.data})}},{key:"startGame",value:function(e){return this.auth.get("/game/".concat(e,"/start")).then(function(e){return e.data})}}]),e}()),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={roomName:"",mission:""},n.handleEdit=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.roomName,r=t.mission;P.createGame(a,r).then(function(e){var t=e._id;n.props.history.push("/game/".concat(t,"/create"))})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.roomName,n=e.mission;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"input is-success",placeholder:"game name",type:"text",name:"roomName",value:t,onChange:this.handleEdit}),r.a.createElement("input",{className:"input is-success",placeholder:"Introduce a mission",type:"text",name:"mission",value:n,onChange:this.handleEdit}),r.a.createElement("input",{className:"button is-success",type:"submit",value:"Create Game"})))}}]),t}(a.Component),I=y(Object(N.a)(x)),D=new(function(){function e(){Object(s.a)(this,e),this.user=b.a.create({baseURL:"https://paranoiaapp.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getUser",value:function(e){return this.user.get("/user").then(function(e){return e.data})}},{key:"editProfile",value:function(e,t){return console.log(e,t),this.user.patch("/user/".concat(t,"/edit"),{userInfo:e}).then(function(e){return e.data})}}]),e}()),B=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"#Hello ",this.props.user.username,"!"),r.a.createElement("p",{onClick:this.props.logout},"Logout"))}}]),t}(a.Component)),M=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.game;return r.a.createElement("div",{className:"my-games"},r.a.createElement("p",null,e.roomName))}}]),t}(a.Component)),R=y(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleButton=function(){n.props.handleButton()},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn",onClick:this.handleButton},this.props.children)}}]),t}(a.Component)),J=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={changeQuote:!1,quote:""},n.handleEdit=function(e){n.setState({quote:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.profileInfo,a={quote:n.state.quote};D.editProfile(a,t).then(function(e){n.props.handleSubmit(e.quote)})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.quote,n=(e.image,this.props.profileInfo.quote);return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"input is-success",placeholder:n,type:"text",name:"Kill Sentence",value:t,onChange:this.handleEdit}),r.a.createElement("input",{className:"button is-success",type:"submit",value:"Edit Profile"}))}}]),t}(a.Component),_=y(Object(N.a)(J)),H=y(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",games:[],isLoading:!0,showJoinForm:!1,quote:"",image:"",showEditForm:!1,id:""},n.joinGameLink=function(){n.props.history.push("/game/join")},n.handleSubmit=function(e){n.setState({quote:e}),n.toggleEditForm()},n.editProfile=function(){},n.toggleEditForm=function(){var e=n.state.showEditForm;n.setState({showEditForm:!e})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.update()}},{key:"update",value:function(){var e=this,t=this.props.user._id;D.getUser(t).then(function(t){e.setState({user:t.user.username,games:t.games,isLoading:!1,quote:t.user.quote,id:t.user._id})}).catch(function(e){console.log(e)})}},{key:"renderGames",value:function(){return this.state.games.map(function(e){return r.a.createElement(M,{key:e._id,game:e})})}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.quote,a=e.image,o=e.showEditForm,i=e.isLoading;return r.a.createElement("div",null,i?r.a.createElement("h1",null,"Loading... "):r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement("h2",null,t,"'s profile"),r.a.createElement("img",{src:a,alt:"User"}),r.a.createElement("h5",null,"Kill Sentence: ",n),r.a.createElement(R,{handleButton:this.toggleEditForm}),o?r.a.createElement(_,{onClick:this.editProfile,profileInfo:this.state.id,handleSubmit:this.handleSubmit}):null,r.a.createElement("h4",null,"My Games:"),this.renderGames(),"My Profile!",r.a.createElement(I,{onSubmit:this.handleSubmit}),r.a.createElement(R,{handleButton:this.joinGameLink},"Join A Game")))}}]),t}(a.Component)),K=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Personal Room Page")}}]),t}(a.Component)),Q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={admin:"",roomName:"",participants:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;P.getGameInfo(t).then(function(t){e.setState({admin:t.admin.username,roomName:t.roomName,participants:t.participants})})}},{key:"handleStartClick",value:function(){var e=this,t=this.props.match.params.id;P.startGame(t).then(function(t){var n=t._id;e.props.history.push("/game/".concat(n))})}},{key:"render",value:function(){var e=this.state,t=e.admin,n=e.roomName,a=e.participants;return r.a.createElement("div",null,r.a.createElement("h1",null,"Room Name: ",n," "),r.a.createElement("h3",null,"Admin: ",t," "),r.a.createElement("h3",null," Participants:",a?a.map(function(e){return r.a.createElement("span",{key:e.username}," ",e.username)}):null,r.a.createElement(R,{onClick:this.handleStartClick},"Start Game")))}}]),t}(a.Component),z=y(Object(N.a)(Q)),T=y(function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={roomName:"",mission:""},n.handleEdit=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.roomName,r=t.mission;P.joinGame(a,r).then(function(){n.props.history.push("/profile")})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Join a Game"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"input is-success",placeholder:"Introduce Room's name",type:"text",name:"roomName",onChange:this.handleEdit}),r.a.createElement("input",{className:"input is-success",placeholder:"Introduce your Mission",type:"text",name:"mission",onChange:this.handleEdit}),r.a.createElement("input",{className:"button is-success",type:"submit",value:"Go!"})))}}]),t}(a.Component)),V=y(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Game Over")}}]),t}(a.Component)),W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(S,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement(k,{exact:!0,path:"/",component:F}),r.a.createElement(d.a,{exact:!0,path:"/",component:F}),r.a.createElement(w,{path:"/profile",component:H}),r.a.createElement(w,{path:"/game/join",component:T}),r.a.createElement(w,{path:"/game/:id/create",component:z}),r.a.createElement(w,{path:"/game/:id",component:K}),r.a.createElement(w,{path:"/game/over",component:V})))))}}]),t}(a.Component);n(55);i.a.render(r.a.createElement(u.a,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.9762dc5d.chunk.js.map