{"version":3,"sources":["lib/auth-service.js","lib/authContext.js","components/PrivateRoute.js","components/AnonRoute.js","components/PageNotFound.js","components/Signup.js","components/Login.js","pages/HomePage.js","lib/userServer.js","components/MyGames.js","components/Button.js","components/Form.js","components/EditImage.js","components/Navbar.js","components/HowToplay.js","pages/Profile.js","lib/gameServer.js","components/ParticipantsList.js","components/Mission.js","pages/game/GameRoom.js","components/CreateParticipantList.js","pages/game/Create.js","pages/game/Join.js","components/EmailForm.js","components/DeleteEmail.js","pages/game/CreateForm.js","pages/game/GameOver.js","App.js","index.js"],"names":["auth","Auth","Object","classCallCheck","this","axios","create","baseURL","process","withCredentials","user","username","password","email","post","then","_ref","data","_ref2","response","get","React","createContext","Provider","Consumer","withAuth","Comp","props","react_default","a","createElement","value","assign","AuthContext","state","isLogged","isLoading","handleSetUser","_this","setState","handleLogOut","authService","logout","catch","error","console","log","_this2","me","setUser","children","Component","_this$props","path","component","rest","objectWithoutProperties","Route","render","Redirect","to","Signup","alert","handleFormSubmit","event","preventDefault","_this$state","signup","history","push","handleChange","_event$target","target","name","defineProperty","handleLogin","_this$state2","className","onSubmit","type","onChange","required","onClick","withRouter","Login","login","handleSignup","HomePage","showSignup","src","alt","components_Signup","components_Login","profileServer","ProfileServer","userId","userInfo","image","patch","concat","picURL","headers","Content-Type","_ref3","startedStatus","gameFinished","game","Link","_id","roomName","admin","renderGameRoomDetail","handleButton","Form","changeQuote","changeImage","quote","handleEdit","handleSubmit","profileInfo","editProfile","maxLength","autoFocus","placeholder","EditImage","fileUpload","file","editPicture","HowToplay","reactjs_popup_es","trigger","position","close","games","showEditForm","id","showEditImage","prueba","joinGameLink","createNewGameLink","toggleEditForm","update","toggleEditImage","submitImage","userServer","getUser","map","components_MyGames","key","filter","components_Navbar","components_HowToplay","components_EditImage","imageinfo","components_Form","components_Button","renderGames","renderAdminGames","gameServer","GameServer","mission","message","gameId","_ref4","userName","_ref5","_ref6","killedByUser","crossedClass","componentDidMount","scrachParticipant","callback","participants","participant","_this$props$state","killLog","player","find","killEvent","killer","killedUser","Mission","userMission","numberOfSurvivors","handleKill","killUser","missions","userTarget","GameRoom","endingDate","userStatus","populateMissions","i","length","populateKillLog","handleReSort","reSortGame","match","params","getGameInfo","userDead","err","_this3","isUserAdmin","components_Mission","components_ParticipantsList","Create","startGame","components_CreateParticipantList","handleStartClick","joinGame","EmailForm","handleChangeInput","DeleteEmail","emails","index","onDelete","CreateForm","emailString","document","getElementById","Array","join","createGame","status","handleSubmitEmail","handleDeleteEmail","splice","components_EmailForm","components_DeleteEmail","htmlFor","rows","GameOver","winner","date","App","showCreateForm","authContext_AuthContext","Switch","components_AnonRoute","exact","components_PrivateRoute","Profile","Join","PageNotFound","ReactDOM","BrowserRouter","src_App"],"mappings":"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","file":"static/js/main.77cd8443.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  signup(user) {\n    const { username, password, email } = user;\n    return this.auth.post('/auth/signup', {username, password, email})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth.post('/auth/login', {username, password})\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data)\n  }\n\n  me() {\n    return this.auth.get('/auth/me')\n    .then(response => response.data)\n  }\n}\n\nconst auth = new Auth();\n\nexport default auth","import React, { Component } from 'react'\nimport authService from './auth-service';\n\nconst { Provider, Consumer } = React.createContext();\n\nexport const withAuth = (Comp) => { \n  return (props) => {\n    return <Consumer>\n      {value => {\n        return <Comp {...value} {...props} />\n      }}\n    </Consumer>\n  }\n}\n\nexport default class AuthContext extends Component {\n\n  state = {\n    isLogged: false,\n    user: null,\n    isLoading: true\n  }\n\n  componentDidMount() {\n    authService.me()\n    .then((user)=>{\n      this.setState({\n        user,\n        isLoading : false,\n        isLogged : true\n      })\n    })\n    .catch((error)=>{\n      this.setState({\n        isLogged : false,\n        user : null,\n        isLoading : false\n      })\n    })\n  }\n\n  handleSetUser = (user) => {\n    this.setState({\n      user,\n      isLogged : true\n    })\n  }\n\n  handleLogOut = () =>{\n    authService.logout()\n    .then(()=>{\n      this.setState({\n        user : null,\n        isLogged : false\n      })\n    })\n    .catch((error)=>{\n      console.log('Hay que manejar errores')\n    })\n  }\n\n  render() {\n    const { isLoading } = this.state;\n    return isLoading ? <h1>Loading...</h1> : <Provider value={{\n      isLogged: this.state.isLogged,\n      user: this.state.user,\n      logout: this.handleLogOut,\n      setUser: this.handleSetUser\n    }}>\n      {this.props.children}\n    </Provider>\n  }\n}\n","import React, { Component } from 'react';\nimport {Route,Redirect} from 'react-router-dom';\nimport { withAuth } from '../lib/authContext';\n\nclass PrivateRoute extends Component {\n  render() {\n    const {path, component:Component, isLogged, ...rest} = this.props\n    return (\n      <Route  {...rest } path={path} render={(props)=>{\n        return isLogged ? <Component {...props} /> : <Redirect to={'/'} />\n      }} />\n    )\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from 'react';\nimport {Route,Redirect} from 'react-router-dom';\nimport { withAuth } from '../lib/authContext';\n\nclass AnonRoute extends Component {\n  render() {\n    const {path, component:Component, isLogged, ...rest} = this.props\n    return (\n      <Route  {...rest } path={path} render={(props)=>{\n        return !isLogged ? <Component {...props} /> : <Redirect to={'/profile'} />\n      }} />\n    )\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\n\nclass PageNotFound extends Component {\n  render() {\n    return (\n        <div>\n         <h4>404 Error<br />Sorry, page not found... Try again!</h4>\n        </div>\n    )\n  }\n}\n\nexport default withAuth(PageNotFound);","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport auth from '../lib/auth-service';\nimport { withAuth } from '../lib/authContext';\n\nclass Signup extends Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n    alert: '',\n    email: '',\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password, email }  = this.state;\n\n    auth.signup({ username, password, email })\n      .then( (user) => {\n        this.setState({\n            username: \"\",\n            password: \"\",\n            email: \"\"\n        });\n        this.props.setUser(user);\n        this.props.history.push('/profile');        \n      })\n      .catch( error => {\n        const { data } = error.response;\n        if(data.error === 'username-not-unique'){\n            this.setState({\n              alert: 'username already in use'\n            });\n        }   \n      })\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  handleLogin = () => {\n    this.props.handleLogin()\n  }\n  render() {\n    const { username, password, alert, email } = this.state;\n    return (\n      <div className=\"signup\">\n        { alert ? <p className=\"warning\">{alert}</p> :  null}\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Username:</label>\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} required/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Email:</label>\n            <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} required/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Password:</label>\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} required/>\n          </div>\n          <div className=\"input-submit\">\n            <input className=\"log-signup-btn btn\" type=\"submit\" value=\"SignUp\" />\n          </div>\n        </form>\n          <p className=\"log-sign\">Already have an account? <span className=\"toggle-sign-log\" onClick={this.handleLogin}>Login</span></p>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Signup));","import React, { Component } from 'react';\nimport auth from '../lib/auth-service';\nimport { withAuth } from '../lib/authContext';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    alert: '',\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state\n\n    auth.login({ username, password })\n    .then( (user) => {\n      this.props.setUser(user)\n      this.props.history.push('/profile'); \n    })\n    .catch( error => {\n      const { data } = error.response;\n      switch(data.error){\n        case 'User or password invalid':\n          this.setState({\n            alert: 'invalid username or password'\n          });\n          break;\n        case 'not-found':\n          this.setState({\n            alert: 'invalid username or password'\n          });\n          break;\n        default:\n          this.setState({\n            alert: ''\n          })\n      }   \n    })\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  handleSignup = () => {\n    this.props.handleSignup()\n  }\n\n  render() {\n    const { username, password, alert } = this.state;\n    return (\n      <div className=\"login \">\n        { alert ? <p className=\"warning\">{ alert }</p> :  null}\n        <form onSubmit={ this.handleFormSubmit } >\n          <div className=\"input\"> \n            <label className=\"log-sign-label\">Username:</label>\n            <input type=\"text\" name=\"username\" value={ username } onChange={ this.handleChange } required/>\n          </div>\n          <div className=\"input\">\n            <label className=\"log-sign-label\">Password:</label>\n            <input type=\"password\" name=\"password\" value={ password } onChange={ this.handleChange } required/>\n          </div>\n          <div className=\"input-submit\">\n            <input className=\"log-signup-btn btn\" type=\"submit\" value=\"Login\" />\n          </div>\n          <p className=\"log-sign\">Don't you have an acount? <span className=\"toggle-sign-log\" onClick={ this.handleSignup }>SignUp</span></p>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Login));","import React, { Component } from 'react';\nimport Signup from '../components/Signup';\nimport Login from '../components/Login';\n\n\nclass HomePage extends Component {\n\n  state = {\n    showSignup: false\n  }\n\n  handleLogin = () => {\n    this.setState({\n      showSignup: !this.state.showSignup,\n    })\n  }\n\n  \n\n\n  render() {\n    const {showSignup} = this.state\n    return (\n      <div className=\"home-page\">\n      <img className=\"logo\" src=\"/img/paranoia.png\" alt=\"paranoia logo\"/>\n      {showSignup ? <Signup handleLogin={this.handleLogin}/> : <Login handleSignup={this.handleLogin}/>}\n      </div>\n    )\n  }\n}\n\nexport default HomePage;","import axios from 'axios';\n\nclass ProfileServer {\n\n  constructor() {\n\n    this.user = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  getUser(userId) {\n    return this.user.get('/user')\n    .then(({ data }) => data);\n  }\n\n\n  editProfile(userInfo, userId, image) {\n    return this.user.patch(`/user/${userId}/edit`, {userInfo, image})\n    .then(({ data }) => data);\n  }\n\n  editPicture(picURL, userId) {\n    return this.user.patch(`/user/${userId}/picture`, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }, picURL})\n    .then(({ data }) => data);\n  }\n}\nconst profileServer = new ProfileServer();\n\nexport default profileServer;","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\nimport { Link } from 'react-router-dom';\n\nclass MyGames extends Component {\n\n  state = {\n    startedStatus: null,\n    gameFinished: null,\n  }\n\n  renderGameRoomDetail () {\n    const { game } = this.props; \n    const { gameFinished } = game;\n    if (gameFinished) {\n      return <Link className=\"decoration-none\" to={`/game/${ game._id }/over`}>\n        <div className=\"game-list\">\n          <p className=\"game-room\">{ game.roomName }</p>\n          <p className=\"finished\">finished</p>\n        </div>\n      </Link>\n    } \n    else if (game.startedStatus) {\n    return <Link className=\"decoration-none\"  to={`/game/${ game._id }`}>\n        <div className=\"game-list\">\n          <p className=\"game-room\">{ game.roomName }</p> \n          <p className=\"active\">active</p>\n        </div>\n      </Link>\n    }\n\n    return <div className=\"game-list\">\n        <p className=\"game-room\">{ game.roomName }</p> \n        <p className=\"pending\">pending</p>\n      </div>\n  }\n\n  render() {\n\n    const { game, admin } = this.props; \n    //const { gameStatus } = game;\n\n    return (\n      <div className=\"my-games\">\n       { admin ? <Link className=\"decoration-none\" to={`/game/${ game._id }/create`}><p className=\"game-list admin\">{ game.roomName }</p></Link>\n        : this.renderGameRoomDetail() \n      }\n      </div>\n    )\n  }\n}\n\nexport default withAuth(MyGames);","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\n\nclass Button extends Component {\n\n  handleButton = () => {\n    this.props.handleButton(this.props.state, this.props);\n  }\n\n  render() {\n    return (\n      <button className=\"btn\" onClick={this.handleButton}>{this.props.children}</button>\n    )\n  }\n}\n\nexport default withAuth(Button);\n","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport profileServer from '../lib/userServer';\nimport { withRouter } from 'react-router-dom';\n\nclass Form extends Component {\n\n  state = {\n    changeQuote: false,\n    changeImage: false,\n    quote: this.props.quote,\n    image: '',\n  }\n\n  handleEdit = event => {\n    this.setState({\n      quote: event.target.value,\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const userId = this.props.profileInfo;\n    const userInfo = {\n      quote: this.state.quote,\n    }\n    \n    profileServer.editProfile(userInfo, userId)\n    .then( game => {\n      this.props.handleSubmit(game.quote);\n    })\n   \n  }\n\n  render() {  \n\n    const { quote } = this.state;\n    \n    return (\n      <form className=\"quote-form\" onSubmit={this.handleSubmit}>\n        <input className=\"input is-success\" maxLength=\"30\" autoFocus={ true } placeholder={ quote } type=\"text\" name=\"Kill Sentence\" value={ quote } onChange={ this.handleEdit }/>\n        <input className=\"icon\" type=\"image\" src='img/ok.png' alt=\"icon submit\"/>\n     </form> \n    )\n  }\n}\n\nexport default withAuth(withRouter(Form));","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport profileServer from '../lib/userServer';\nimport { withRouter } from 'react-router-dom';\n\nclass EditImage extends Component {\n  \n  state = {\n    image: ''\n  }\n\n  fileUpload =  event  => {\n    const file = event.target.value;\n    this.setState({\n      image: file\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    //const formData = new FormData();\n    const file = this.state.image;\n    //formData.append(\"picture\", file)\n    profileServer.editPicture(file, this.props.user._id)\n    .then(user => {\n      this.props.setUser(user)\n      this.setState({\n        image: user.image\n      })\n      this.props.handleSubmit(file);\n    })\n   \n  }\n\n  render() {  \n    const {image} = this.state;\n  \n    return (\n      <form onSubmit={this.handleSubmit}>\n       <input type=\"text\" name=\"image\" onChange={this.fileUpload} value={image}/>\n       <input className=\"edit-btn\" type=\"submit\" value=\"Edit\"/>\n      </form>\n      \n    )\n  }\n}\n\nexport default withAuth(withRouter(EditImage));","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport { Link } from 'react-router-dom'\n\nclass Navbar extends Component {\n\n  render() {  \n    const { username } = this.props.user\n    return (\n      <div className=\"nav-bar\">\n        <Link className=\"decoration-none\" to={'/profile'}>\n          <div className=\"nav-container\">\n            <p className=\"hello-user\">Hello {username}!</p>\n          </div>\n        </Link>\n        <p className=\"logout\"onClick={this.props.logout}>Logout</p>\n      </div> \n    )\n  }\n}\n\nexport default withAuth(Navbar);","import React from \"react\";\nimport Popup from \"reactjs-popup\";\n\nconst HowToplay= () => (\n  <Popup trigger={<img className=\"info-icon\" src=\"/img/info.png\" alt=\"info icon\"/>} position=\"left top\">\n     {close => (\n      <div className=\"popup\">\n        {/* <a href='#' className=\"close\" onClick={close}>\n          &times;\n        </a> */}\n        <div className=\"content\" >\n          <h3 className=\"pop-up-heading\">How to play:</h3>\n          <p>Just think of an action that a player will have to get his victim to perform and thus be eliminated \n            (like let the Macarena sing ...).</p>\n          <p>When the game starts, you will receive a target and a random mission that \n            you must complete. If successful, you will receive the target and the mission of your victim.</p>\n          <p>Eliminate everyone from the game before they kill you!</p>\n\n          <h3 className=\"pop-up-subheading\">Good luck!</h3>\n        \n        </div>\n     \n      </div>\n    )}\n  </Popup>\n);\n\nexport default HowToplay;","import React, { Component } from 'react';\nimport { withAuth } from '../lib/authContext';\nimport userServer from '../lib/userServer';\nimport MyGames from '../components/MyGames';\nimport Button from '../components/Button';\nimport Form from '../components/Form';\nimport EditImage from '../components/EditImage';\nimport Navbar from '../components/Navbar';\nimport HowToplay from '../components/HowToplay';\n\n\nclass Profile extends Component {\n\n  state = {\n    user: '',\n    games: [],\n    isLoading: true,\n    quote:'',\n    file:'',\n    showEditForm: false,\n    id:'',\n    showEditImage: false,\n    prueba: false,\n  }\n\n  joinGameLink = () => {\n    this.props.history.push('/game/join')\n  }\n\n  createNewGameLink = () => {\n    this.props.history.push('/game/create')\n  }\n\n  handleSubmit = (quote) => {\n   this.setState({\n     quote,\n   })\n   this.toggleEditForm();\n   this.update();\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    })\n    this.update();\n    \n  }\n\n\n  update() {  \n    const userId = this.props.user._id;\n    userServer.getUser(userId)\n    .then(data => {\n      this.setState({\n        user: data.user.username,\n        image: data.user.image,\n        games: data.games,\n        isLoading: false,\n        quote: data.user.quote,\n        id: data.user._id,\n      })\n    })\n    .catch(error => {\n      console.log(error)\n    })\n  }\n\n  renderGames() {\n    const { games } = this.state;\n    return games.map((game) => {\n      return <MyGames \n        key={game._id}\n        game={game}\n        admin={false}/>  \n    })  \n  }\n\n  renderAdminGames() {\n    const { games, id } = this.state;\n    const adminGames = games.filter(game => {\n      return (!game.startedStatus && game.admin === id);\n    })\n    return adminGames.map((game) => {\n      return <MyGames \n        key={game.roomName}\n        game={game}\n        admin={true}/>  \n    }) \n  }\n  \n toggleEditForm = () => {\n   const { showEditForm } = this.state;\n   this.setState({\n     showEditForm: !showEditForm,\n   }) \n }\n\n  toggleEditImage = () => {\n    const { showEditImage } = this.state\n    this.setState({\n      showEditImage: !showEditImage\n    })\n  }\n\n  submitImage = (file) => {\n    this.setState({\n      file,\n    })\n    this.toggleEditImage();\n    this.update();\n  }\n\n  render() {\n\n    const { id, quote, showEditForm,isLoading, image, showEditImage} = this.state;\n    \n    return (\n      <div className=\"profile\">\n        {isLoading ? <h1>Loading... </h1> : <div>\n          <Navbar  />\n          <HowToplay/>\n          <div className=\"user-info\">\n            <div className=\"img-container\">\n              <img className=\"profile-img\" src={ image } alt=\"User\" onClick={this.toggleEditImage }/>                \n              {showEditImage ? <EditImage handleSubmit={ this.submitImage } imageinfo={image}/> : null}\n            </div>\n            <div className=\"quote\">\n              {showEditForm ? <Form profileInfo={ id } quote={ quote } handleSubmit={ this.handleSubmit }/> : <div> {!quote ? <h3>'Kill sentence'</h3> : <h3>{ quote }</h3>} </div>} \n              {showEditForm ? null :<div>               \n                <img className=\"icon\" src='img/Edit-icon.png' alt='edit quote' onClick={ this.toggleEditForm }/>\n              </div>  }            \n            </div>            \n          </div>\n          <div className=\"profile-btns\">\n            <Button handleButton={ this.createNewGameLink }>New Game</Button>\n            <Button handleButton={ this.joinGameLink }>Join Game</Button>\n          </div>\n          <div className=\"info-container\">\n            <div className=\"games\">\n              <h5>My Games:</h5>\n                { this.renderGames() }\n            </div>\n            <div className=\"games\">\n              <h5>Admin Games:</h5>\n                { this.renderAdminGames() }\n            </div>        \n          </div>\n\n      </div>}\n      </div>\n    )\n  }\n}\nexport default withAuth(Profile);","import axios from 'axios';\n\nclass GameServer {\n\n  constructor() {\n\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BASEURL,\n      withCredentials: true\n    })\n  }\n\n  createGame(roomName, mission, email, message) {\n    return this.auth.post('/game/' , { roomName, mission, email, message })\n    .then(({ data }) => data);\n  }\n\n  getGameInfo(gameId) {\n    return this.auth.get(`/game/${gameId}`)\n    .then(({ data }) => data);\n  }\n\n  joinGame(roomName, mission) {\n    return this.auth.post('/game/join', { roomName, mission })\n    .then(({ data }) => data);\n  }\n\n  startGame(gameId) {\n    return this.auth.get(`/game/${gameId}/start`)\n    .then(({ data }) => data);\n  }\n\n  killUser(gameId, userName) {\n    return this.auth.post(`/game/${gameId}/kill`, { userName })\n    .then(({ data }) => data);\n  }\n\n  reSortGame(gameId) {\n    return this.auth.get(`/game/${gameId}/sort`)\n    .then(({ data }) => data);\n  }\n\n}\n\n\n\nconst gameServer = new GameServer();\n\nexport default gameServer;","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\n\nclass ParticipantsList extends Component {\n\n  state = {\n    killedByUser: [],\n    crossedClass: '',\n    isLoading: false,\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      isLoading: true,\n    })\n    this.killedByUser(this.scrachParticipant);\n    this.setState({\n      isLoading: false,\n    })\n  }\n\n\n  killedByUser = (callback) => {\n    const { participants, participant } = this.props;\n    const { killLog, username } = this.props.state;\n    const killedByUser = participants.filter(player => {\n      const killedBU = killLog.find(killEvent => {\n         return ((killEvent.killer === username) && (killEvent.target === player.username));\n      })\n      return killedBU;\n    })\n    if (killedByUser) {\n      this.setState({\n        killedByUser: killedByUser,\n      },() => {\n        callback(participant);\n      })\n      \n    }\n  }\n\n  scrachParticipant = (participant) => {\n    const { killedByUser } = this.state;\n    const participantKilledByUser = killedByUser.find(killedUser => {\n       return killedUser.username === participant.username;\n    })\n    if (participantKilledByUser){\n      this.setState({\n        crossedClass: 'crossed',\n      })\n    }\n  }\n\n  render() {\n    const { participant } = this.props;\n    const { crossedClass, isLoading } = this.state;\n\n    return (\n          <li className=\"participant\" key={participant.username}>\n            {isLoading? <h3>...Loading</h3>\n              :<span className={crossedClass}> {participant.username} </span> \n            }  \n          </li>\n         \n    )\n  }\n}\n\nexport default withAuth(ParticipantsList);","import React, { Component } from 'react';\nimport gameServer from '../lib/gameServer';\nimport { withAuth } from '../lib/authContext';\nimport { withRouter } from 'react-router-dom';\nimport Button from '../components/Button';\n\nclass Mission extends Component {\n\n  state = {\n    username: '',\n    userMission: {},\n    isLoading: true,\n    numberOfSurvivors: null,\n    admin: '',\n    gameId:'',\n    alert: '',\n  }\n\n  componentDidMount = () => {\n    const { username, gameId, numberOfSurvivors, admin } = this.props.state;\n    this.setState({\n      username: username,\n      userMission: this.props.userMission,\n      isLoading: false,\n      gameId: gameId,\n      numberOfSurvivors: numberOfSurvivors,\n      alert: '',\n      admin,\n    })  \n  }\n\n  handleKill = (state, props) => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.state.gameId;\n    gameServer.killUser(gameId)\n    .then( game => {\n      if (game.numberOfSurvivors <= 1) {\n        this.props.history.push(`/game/${gameId}/over`);\n      } else {\n      const user = game.participants.find(participant => {\n        return participant.username === this.state.username;\n      });\n      const userId = user._id;\n      let userMission = game.missions.find(mission => {\n        return mission.killer === userId;\n      })\n      if (userMission) {\n        const userTarget = game.participants.find(participant => {\n          return participant._id === userMission.target;\n        })\n        userMission.target = userTarget.username;\n      } else {\n        userMission = {target: 'no more players', mission: 'no more missions'}\n      }\n      this.setState({\n        userMission,\n        isLoading: false,\n        numberOfSurvivors: game.numberOfSurvivors,\n        alert: 'Congratulations, you killed your target!',\n      })\n      }\n    })\n    .catch()\n  }\n\n  \n  render() {\n    const { isLoading, userMission, numberOfSurvivors, alert } = this.state;\n    return (\n      <div> {isLoading? <h1>...Loading</h1>\n        : <div>\n            {/* <h3 className=\"survivors-heading\">Survivors</h3> */}\n            <div className=\"survivors\">\n              <h3 className=\"survivors-num\">{numberOfSurvivors} </h3>\n              <p className=\"subheading\">Survivors</p>\n            </div>\n            { alert ? <p className=\"ok-alert\">{ alert }</p> : null}\n            <div className=\"mission-card\">\n              <p className=\"target-mission capitalize\"><span className=\"bold\">Target:</span><span className=\"bigger target\"> {userMission.target}</span></p>\n              <p className=\"target-mission\"><span className=\"bold\">Mission:</span><span className=\"bigger spotlight\"> {userMission.mission}</span></p>\n              <div className=\"kill-btn\">\n                <Button handleButton={this.handleKill} state={this.state} props={this.props}>Kill</Button>\n              </div>\n            </div>\n\n         </div>\n      }\n      </div>  \n    )\n  }\n}\n\nexport default withAuth(withRouter(Mission));\n","import React, { Component } from 'react'\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport ParticipantsList from '../../components/ParticipantsList';\nimport Mission from '../../components/Mission';\nimport Button from '../../components/Button';\nimport Navbar from '../../components/Navbar';\n\nclass GameRoom extends Component {\n\n  state = {\n    username:'',\n    admin:'',\n    roomName:'',\n    participants:[],\n    missions: [],\n    endingDate: '',\n    numberOfSurvivors: null,\n    killLog:[],\n    startedStatus: false, \n    userStatus: null,\n    isLoading: true,\n    gameId:'',\n}\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.props.match.params.id;\n    gameServer.getGameInfo(gameId)\n      .then( game => {\n        game.missions = this.populateMissions(game)\n        game.killLog = this.populateKillLog(game);\n        const { username } = this.props.user;\n        const userDead = game.killLog.find(killEvent => {\n          return (killEvent.target === username);\n        });\n        let userStatus = userDead? 'dead' : 'alive';\n        this.setState({\n          username:username,\n          admin: game.admin.username,\n          roomName: game.roomName,\n          participants: game.participants,\n          missions: game.missions,\n          numberOfSurvivors: game.numberOfSurvivors,\n          killLog: game.killLog,\n          isLoading: false,\n          gameId,\n          userStatus,\n          userDead,\n        })\n      })\n    .catch(err => {\n      this.props.history.push('../../components/PageNotFound.js');\n    })\n  }\n\n  populateMissions = (game) => {\n    const missions = game.missions.map(mission => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (mission.killer === game.participants[i]._id) {\n            mission.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (mission.target === game.participants[i]._id) {\n          mission.target = game.participants[i].username;\n        }  \n     }\n     return mission;\n    })\n    return missions;\n  }\n\n  populateKillLog = (game) => {\n    const killLog = game.killLog.map(killEvent => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (killEvent.killer === game.participants[i]._id) {\n            killEvent.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (killEvent.target === game.participants[i]._id) {\n          killEvent.target = game.participants[i].username;\n        }  \n     }\n     return killEvent;\n    })\n    return killLog;\n  }\n\n  handleReSort = (state, props) => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.state.gameId;\n    gameServer.reSortGame(gameId)\n    .then( game => {\n      game.missions = this.populateMissions(game)\n      this.setState({\n        isLoading: false,\n        missions: game.missions,\n      })\n    })\n    .catch()\n  }\n\n  render() {\n    const { username, admin, roomName, participants, missions, isLoading, userStatus, userDead } = this.state;\n    const userMission = missions.find( mission => {\n      return mission.killer === username;\n    });\n    const isUserAdmin = admin === username;\n    return (\n       <div> \n          {isLoading ? <h1>...isLoading</h1>\n            : <div >\n                <Navbar  />\n                <div className=\"game-room\">\n                  <h2 className=\"game-header  log-title capitalize\">{roomName}</h2>\n                  {(userStatus === 'alive')? <Mission userMission={userMission} state={this.state}>\n                    </Mission>\n                    : <div className=\"killed\">\n                        <h3>You've been killed by: <p className=\"bigger-text capitalize\">{userDead.killer}</p></h3>\n                        <h3>for: <p className=\"bigger-text\">{userDead.mission}</p></h3>\n                      </div>\n                  }  \n                  <div className=\"users-info\">\n                    <div className=\"participants-features\">\n                      <h4 className=\"game-subheading\">Participants</h4>\n                      <ul className=\"participants-list\">                       \n                        {participants.map(participant => {\n                            return <ParticipantsList key={participant.username} participant={participant} participants={participants} state={this.state}/>\n                            })\n                          }\n                      </ul>\n                    </div>\n                    <div className=\"admin-features\">\n                      <h4 className=\"game-subheading\">Admin: <span className=\"spotlight\">{admin}</span></h4>\n                        <div className=\"re-sort-btn\">\n                          { isUserAdmin? <Button handleButton={this.handleReSort} \n                              state={this.state} props={this.props}>Re-Sort</Button>\n                              : null\n                          }\n                        </div>\n                    </div>\n                  </div>\n                </div>\n              </div>   \n          }\n          </div>  \n    )\n  }\n}\n\nexport default withAuth(withRouter(GameRoom));","import React, { Component } from 'react'\nimport { withAuth } from '../lib/authContext';\n\nclass CreateParticipantList extends Component {\n\n  render() {\n\n    const { participants } = this.props;\n\n    return (\n      <ul>\n      {participants.map(participant => {\n        return <li className=\"create-participants-list\"key={participant.username}>\n                  <span className=\"spotlight\" > {participant.username} </span> \n               </li>\n        })\n      }\n      </ul>\n    )\n  }\n}\n\nexport default withAuth(CreateParticipantList);","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport { withRouter } from 'react-router-dom';\nimport gameServer from '../../lib/gameServer';\nimport Button from '../../components/Button';\nimport CreateParticipantList from '../../components/CreateParticipantList';\nimport Navbar from '../../components/Navbar';\n\nclass Create extends Component {\n\n  state = {\n    admin:'',\n    roomName:'',\n    participants:[], \n    gameId:'',\n}\n\ncomponentDidMount() {\n  const gameId = this.props.match.params.id;\n  gameServer.getGameInfo(gameId)\n  .then( game => {\n    this.setState({\n      admin: game.admin.username,\n      roomName: game.roomName,\n      participants: game.participants,\n      gameId,\n    })\n  })\n}\n\nhandleStartClick(state, props) {\n  const { gameId } = this.state;\n  \n  gameServer.startGame(gameId)\n  .then( game => {\n    const gameId = game._id;\n    this.props.history.push(`/game/${gameId}`);\n  })\n}\n\n\n  render() {\n    const { admin, roomName, participants } = this.state;\n\n    return (\n      <div>\n        <Navbar  />\n        <div className=\"create-game\">\n          <h2 className=\"game-header log-title capitalize\">{ roomName }</h2>\n          <div className=\"admin-name\">\n            <h4>Admin:</h4>\n            <h4 className=\"spotlight bigger\">{admin}</h4>\n          </div>\n          <div className=\"part-names\">\n            <h4> Participants: \n            \n              { participants ? <CreateParticipantList participants={participants}/> : null }</h4>\n          </div>          \n          <div className=\"start-btn\">\n            <Button handleButton={this.handleStartClick} state={this.state} props={this.props}>Start Game</Button>\n          </div>                  \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(Create));","import React, { Component } from 'react'\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport Navbar from '../../components/Navbar';\nimport HowToplay from '../../components/HowToplay';\n\n\nclass Join extends Component {\n\n  state = {\n    roomName: '',\n    mission: '',\n    alert: '',\n  }\n\n  handleEdit = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const { roomName, mission } = this.state;\n\n    gameServer.joinGame(roomName, mission)\n    .then (() => {\n      this.props.history.push('/profile', this.state.alert)\n    })\n    .catch(error => {\n      this.setState({\n        alert:'Invalid game name',\n      })\n    })\n  }\n \n  render() {\n\n    const { alert } = this.state;\n\n    return (\n      <div>\n        <HowToplay/>\n        <Navbar  />     \n        \n        <h3 className=\"header join\">Join a Game</h3>\n        { alert ? <p className=\"warning\">{ alert }</p> :  null}\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-input join\">\n            <label className=\"label\">Introduce the name of the game</label>\n            <input className=\"input\" maxLength=\"15\" placeholder=\"Room's name\" type=\"text\" name=\"roomName\" onChange={this.handleEdit}/>\n          </div>\n          <div className=\"join-info\">\n            <div >\n              <p>To enter your mission, remember:</p>\n              <ul>\n                <li className=\"join-info-list\">It must be something simple, but fun (sing 'La Macarena' or try to touch the nose with the tongue)</li>\n                <li className=\"join-info-list\">The mission should not be directed to anyone in particular</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"form-input join\">\n            <label className=\"label\">Introduce a mission</label>\n            <input className=\"input\" placeholder=\"Your Mission\" type=\"text\" name=\"mission\"  onChange={this.handleEdit}/>\n          </div>\n          <div className=\"btn-container\">\n            <input className=\"btn join\" type=\"submit\" value=\"Go!\"/>\n          </div>\n        </form>     \n      </div>\n    )\n  }\n}\n\nexport default withAuth(Join);","import React, { Component } from 'react'\n\nclass EmailForm extends Component {\n  state = {\n    value: ''\n  }\n\n  handleChangeInput = (event) => {\n    this.setState({\n      value: event.target.value\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { value } = this.state;\n    this.props.onSubmit(value)\n    this.setState({\n      value: '',\n    })\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"form-input mail\">\n          <label className=\"label\">Email address</label>\n          <input className=\"input email\" type=\"text\" maxLength=\"35\" value={value} onChange={this.handleChangeInput} placeholder=\"email-1@email.com\"/>\n          <input className=\"icon add\" type=\"image\" src='/img/add.png' alt=\"icon submit\"/>\n        </div>\n      </form>\n    )\n  }\n}\nexport default EmailForm;","import React, { Component } from 'react'\n\nclass DeleteEmail extends Component {\n \n  render() {\n    const { emails, index, onDelete } = this.props;\n\n    return (\n      <li className=\"email-li\">\n        {emails}\n        {/* <button onClick={() => {onDelete(index)}}>delete</button> */}\n        <div>\n          <img className=\"icon delete\" alt=\"delete\" src=\"/img/delete.png\"  onClick={() => {onDelete(index)}}/>\n        </div>\n\n      </li>\n    )\n  }\n}\n\nexport default DeleteEmail;","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport gameServer from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport Navbar from '../../components/Navbar';\nimport EmailForm from '../../components/EmailForm';\nimport DeleteEmail from '../../components/DeleteEmail';\nimport HowToplay from '../../components/HowToplay';\n\nclass CreateForm extends Component {\n\n  state = {\n    roomName:'', \n    mission: '',\n    emails: [],\n    alert: '',\n\n}\n\nhandleEdit = event => {\n  this.setState({\n    [event.target.name]: event.target.value,\n  })\n  \n}\n\nhandleSubmit = (event) => {\n  event.preventDefault();\n  const message = document.getElementById('message').value;\n  const { roomName, mission, emails } = this.state;\n  let emailString;\n  if (typeof emails === Array) {\n     emailString = emails.join(', ');\n  } else {\n    emailString = emails;\n  }\n  gameServer.createGame(roomName, mission, emailString, message)\n  .then( game => {\n    const gameId = game._id;\n    this.props.history.push(`/game/${gameId}/create`);\n  })\n  .catch(data => {\n    if (data.response.status === 422) {\n      this.setState({\n        alert: 'Game name and Mission are required',\n      })\n    }\n  })\n}\n\nhandleSubmitEmail = (value) => {\n  const { emails } = this.state;\n  emails.push(`${value}`);\n  this.setState({\n    emails,\n  })\n}\n\nhandleDeleteEmail = (index) => {\n  const { emails } = this.state;\n  emails.splice(index, 1);\n  this.setState({\n    emails,\n  })\n}\n\n  render() {\n    const { roomName, mission, emails, alert } = this.state;\n    \n    return (\n      <div>\n        <Navbar  />\n        <HowToplay/>\n        <h4 className=\"header invite\">Invite players</h4>\n        <div>\n        <EmailForm onSubmit={this.handleSubmitEmail} />\n        <div> {emails ? <ul className=\"email-list\">\n                  { emails.map((email, index) => {\n                    return <DeleteEmail \n                      emails={email} \n                      key={index}\n                      index={index}\n                      onDelete={this.handleDeleteEmail} \n                    />\n                  })}\n                </ul>\n                : null \n                }\n          </div>\n          </div>\n        <form className=\"create-game-form\" onSubmit={this.handleSubmit}>\n          <div className=\"form-input\">\n            <label className=\"label\" htmlFor=\"message\">Message</label>\n            <textarea className=\"form-message text-area\" rows=\"5\" id=\"message\" placeholder=\"remember include the name of your game\"></textarea>\n          </div>\n          <h4 className=\"header create\">Create game</h4>\n          { alert ? <p className=\"warning\">{ alert }</p> :  null}\n          <div className=\"form-input\">\n            <label className=\"label\">Introduce a name for your game</label>\n            <input className=\"input\" maxLength=\"15\" placeholder=\"game name\" type=\"text\" name=\"roomName\" value={roomName} onChange={this.handleEdit}/>\n          </div>\n          <div className=\"form-input\">\n            <label className=\"label\">And now, your funny mission</label>\n            <input className=\"input\" placeholder=\"Introduce a mission\" type=\"text\" name=\"mission\" value={mission} onChange={this.handleEdit}/>\n          </div>\n          <input className=\"btn send-create\" type=\"submit\" value=\"Invite and create\"/>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(CreateForm));","import React, { Component } from 'react';\nimport { withAuth } from '../../lib/authContext';\nimport  gameServer  from '../../lib/gameServer';\nimport { withRouter } from 'react-router-dom';\nimport Navbar from '../../components/Navbar';\n\nclass GameOver extends Component {\n\n  state = {\n    username: '',\n    missions: {},\n    winner:'',\n    isLoading: true,\n    roomName:'',\n    killLog:[],\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      isLoading: true\n    })\n    const gameId = this.props.match.params.id;\n    gameServer.getGameInfo(gameId)\n    .then( game => {\n      game.missions = this.populateMissions(game)\n      game.killLog = this.populateKillLog(game)\n      this.setState({\n        username:this.props.user.username,\n        admin: game.admin.username,\n        roomName: game.roomName,\n        participants: game.participants,\n        missions: game.missions,\n        killLog: game.killLog,\n        isLoading: false,\n        winner: game.missions[0].killer,\n        gameId,\n        // startedStatus: game.startedStatus, idem\n      })\n    })\n  }\n\n  populateKillLog = (game) => {\n    const populatedkillLog = game.killLog.map(killEvent => {\n      for (let i = 0; i<game.participants.length; i++) {\n        if (killEvent.killer === game.participants[i]._id) {\n          killEvent.killer = game.participants[i].username;\n        }\n      }\n      for (let i = 0; i <game.participants.length; i++) {\n        if (killEvent.target === game.participants[i]._id) {\n          killEvent.target = game.participants[i].username;\n        }\n      }\n      return killEvent;\n    })\n    return populatedkillLog;\n  }\n\n  populateMissions = (game) => {\n    const missions = game.missions.map(mission => {\n       for (let i = 0; i <game.participants.length; i++) {\n          if (mission.killer === game.participants[i]._id) {\n            mission.killer = game.participants[i].username;\n          }\n       }\n       for (let i = 0; i <game.participants.length; i++) {\n        if (mission.target === game.participants[i]._id) {\n          mission.target = game.participants[i].username;\n        }  \n     }\n     return mission;\n    })\n    return missions;\n  }\n\n  render() {\n\n    const { winner, isLoading, killLog } = this.state;\n    return (\n      <div>\n        {isLoading? <h1>...Loading</h1>\n         : <div> \n              <Navbar  />\n              <h1 className=\"winner\">winner: {winner} </h1>\n               <h3 className=\"log-title\">Kill Log</h3>\n              <div className=\"card-container\"> { killLog.map(killEvent => {\n                return (\n                  <div className=\"kill-log\" key={killEvent.mission}>\n                    <div className=\"killer-target\">\n                      <p><span className=\"bold\">Killer:</span> <span className=\"spotlight\">{killEvent.killer}</span></p>\n                      <p><span className=\"bold\">Target:</span> <span className=\"spotlight\">{killEvent.target}</span></p>\n                    </div>\n                    <div className=\"murder\">\n                      <p><span className=\"bold shadow\">Mission:</span> <span className=\"lower\">{killEvent.mission}</span></p>\n                      <p><span className=\"bold shadow\">Date of death:</span> <span className=\"lower\">{killEvent.date}</span></p>\n                    </div>\n                  </div>\n                )\n              }) } </div>\n           </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default withAuth(withRouter(GameOver));","import React, { Component } from 'react';\nimport { Switch } from 'react-router-dom';\nimport PrivateRoute from './components/PrivateRoute';\nimport AuthContext from './lib/authContext';\nimport AnonRoute from './components/AnonRoute';\nimport PageNotFound from './components/PageNotFound';\nimport HomePage from './pages/HomePage';\nimport Profile from './pages/Profile';\nimport GameRoom from './pages/game/GameRoom';\nimport Create from './pages/game/Create';\nimport Join from './pages/game/Join';\nimport CreateForm from './pages/game/CreateForm';\nimport GameOver from './pages/game/GameOver';\nimport './styles.css'\n\n\n\nclass App extends Component {\n\n  state = {\n    user: '',\n    games: [],\n    isLoading: true,\n    showCreateForm: false,\n    quote:'',\n    image:'',\n    showEditForm: false,\n    id:'',\n    showEditImage: false,\n  }\n\n  render() {\n    return (\n      <AuthContext>\n        <div className=\"container\">\n          <div>\n            <Switch>\n              <AnonRoute exact path=\"/\" component={HomePage} />\n              {/* <Route exact path=\"/\" component={HomePage} /> */}\n              <PrivateRoute exact path=\"/profile\" component={Profile} />\n              <PrivateRoute  exact path=\"/game/join\" component={Join} />\n              <PrivateRoute  exact path=\"/game/create\" component={CreateForm} />\n              <PrivateRoute path=\"/game/:id/create\" component={Create} />\n              <PrivateRoute exact path=\"/game/:id\" component={GameRoom} />\n              <PrivateRoute exact path=\"/game/:id/over\" component={GameOver} />\n              <PrivateRoute path=\"/*\" component={PageNotFound} />\n          </Switch>\n          </div>\n        </div>\n      </AuthContext>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\n// import 'milligram/dist/milligram.css';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));"],"sourceRoot":""}